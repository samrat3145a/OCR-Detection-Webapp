{% extends 'base.html' %}
{% block content%}

{% load static %}
    <p class="h1 mx-auto mt-4 mb-5" style="width:564px"><u>Welcome to Image Conversion</u></p>
    <div class="container ml-5">
        <div class="flex-container">
            <div class="mt-3 mr-5">
                <form action="{% url 'image_conversion' %}" enctype="multipart/form-data" method="POST">
                    {% csrf_token %}
                    <h3>Select the image file:</h3>
                    <p class="mt-5 mb-3">
                        <input type="file" name="upload" class="inputfield">
                    </p>
                    <button class="btn btn-primary">Submit</button>
                </form>
            </div>
            <div class="mr-5 ml-5">
            </div>
            <div class="ml-5" >
                <div class="mt-5" id="compressed_img" style="display: none ;">
                    <form action="{% url 'image_conversion' %}" method="POST">
                        {% csrf_token %}
                        <div class="inputfield">
                            <label for="file_type">Select Image Format:</label>
                            <div class="custom_select">
                                <select name="file_type" id="file_type" required class="form-control">
                                    <option value="">Select Type</option>
                                    <option value=".jpg">JPG</option>
                                    <option value=".jpeg">JPEG</option>
                                    <option value=".png">PNG</option>
                                    <option value=".tiff">TIFF</option>
                                    <option value="grayscale">Grayscale</option>
                                    <option value="black">Black and White</option>
                                </select>
                            </div>
                        </div>
                        <p class="mx-auto mt-4 mb-5">
                            <button class="btn btn-warning" style="width:200px;">Convert</button>
                        </p>
                    </form>
                </div>
                <div class="ml-5 mt-5" style="display: none;" id="download">
                    <p class="h3 mb-3">Download Image</p>
                    <a download="custom-filename.jpg" href="{{ outpath }}" style="width:250px;" class="btn btn-primary" title="ImageName">
                        Download
                    </a>
                </div>     
            </div>
        </div>
    </div>
{% endblock %}
